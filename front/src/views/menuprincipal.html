<!doctype html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="../../logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Men√∫ Principal - Los Lobos de Castronegro</title>
</head>

<body>
    <nav class="main-navbar">
        <div class="navbar-logo">
            <a href="home.html">
                <img src="../../logo.png" alt="Logo Los Lobos de Castronegro">
            </a>
        </div>
        <ul class="navbar-links" id="navbar-guest-links">
            <li><a href="login.html" class="nav-link">Iniciar Sesi√≥n</a></li>
            <li><a href="registrar.html" class="nav-link">Crear Cuenta</a></li>
        </ul>
        <ul class="navbar-links" id="navbar-user-links" style="display: none;">
        </ul>
    </nav>
    <!-- Pantalla Principal del Men√∫ -->
    <div class="screen">
        <div class="menu-header">
            <div class="logo-title">
                <div class="logo-icon">üê∫</div>
                <div class="title-text">LOS LOBOS DE CASTRONEGRO</div>
            </div>
            <div class="user-menu">
                <div class="user-avatar-small">üë§</div>
                <div class="user-name">NombreUsuario</div>
                <div style="color: #D4A017;">‚ñº</div>
            </div>
        </div>

        <div class="cards-container">
            <div class="menu-card">
                <div class="card-icon">‚ûï</div>
                <div class="card-title">Crear Lobby</div>
                <p class="card-description">
                    Inicia una nueva partida y configura las reglas del juego.
                    Invita a otros jugadores a unirse.
                </p>
            </div>

            <div class="menu-card">
                <div class="card-icon">üö™</div>
                <div class="card-title">Unirse a Lobby</div>
                <p class="card-description">
                    Explora las partidas disponibles y √∫nete a una sala existente
                    para comenzar a jugar.
                </p>
            </div>
        </div>
    </div>

    <div id="lobby-modal" class="modal">
        <div class="lobby-container">
            <div class="lobby-form">
                <div class="form-section">
                    <div class="section-title">Informaci√≥n B√°sica</div>
                    <div class="form-row">
                        <label for="lobby-name">Nombre del Lobby</label>
                        <input type="text" id="lobby-name" placeholder="Nueva partida">
                    </div>
                    <div class="form-row">
                        <label for="lobby-max">Maximo de jugadores</label>
                        <input type="number" id="lobby-max" value="30" min="15" max="30">
                    </div>
                </div>
                <div class="form-section">
                    <div class="section-title">Privacidad</div>
                    <div class="form-row"><label>Tipo de Lobby</label>
                        <input type="radio" id="publico" name="lobby-type" value="Publico" checked>
                        <label class="radio" for="publico">Publico</label><br>
                        <input type="radio" id="privado" name="lobby-type" value="Privado">
                        <label class="radio" for="privado">Privado</label>
                    </div>
                    <div class="form-row">
                        <label for="lobby-code">C√≥digo de acceso (solo partidas privadas)</label>
                        <input type="text" id="lobby-code" placeholder="ABCDEF" maxlength="10" disabled>
                    </div>
                </div>
                <div class="button-group">
                    <div class="button-secondary" id="btn-cancelar">Cancelar</div>
                    <div class="button-primary" id="crear-lobby">Crear Lobby</div>
                </div>
            </div>
        </div>
    </div>

    
    <!-- Modal de Lobbies -->
    <div class="modal-overlay" id="lobby-list-modal" style="display: none;">
        <div class="modal-content lobby-modal">
            <div class="profile-header-new">
                <div class="back-button-new" id="close-lobby-modal">‚Üê Volver</div>
                <div style="color: #D4A017; font-size: 20px; font-weight: bold;">Lobbies Disponibles</div>
                <div style="width: 100px;"></div>
            </div>

            <!-- Contenedor de Lobbies -->
            <div class="lobby-container">
                <div class="lobby-header">
                    <div class="lobby-title">Selecciona una Partida</div>
                    <div class="lobby-subtitle">Haz clic en un lobby para unirte</div>
                </div>

                <!-- Loading -->
                <div class="loading-spinner" id="lobby-loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Cargando lobbies...</p>
                </div>

                <!-- Lista de Lobbies -->
                <div class="lobby-list" id="lobby-list">
                    <!-- Los lobbies se cargar√°n aqu√≠ -->
                </div>

                <!-- Mensaje cuando no hay lobbies -->
                <div class="no-lobbies-message" id="no-lobbies" style="display: none;">
                    <p>üì≠ No hay lobbies disponibles</p>
                    <p style="font-size: 14px; color: #888;">Crea una nueva partida para empezar</p>
                </div>

                <!-- Bot√≥n Actualizar -->
                <div style="margin-top: 30px; text-align: center;">
                    <button class="button-secondary" id="refresh-lobbies-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px;">
                            <path
                                d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                        </svg>
                        Actualizar Lista
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de C√≥digo de Acceso -->
    <div class="modal-overlay" id="code-input-modal" style="display: none;">
        <div class="modal-content code-modal">
            <div class="modal-header">
                <h2>üîë C√≥digo de Acceso</h2>
                <button class="close-modal" id="close-code-modal">√ó</button>
            </div>
            <div class="modal-body">
                <p>Esta partida es privada. Introduce el c√≥digo de acceso:</p>
                <div class="form-row-new">
                    <label class="label-new">C√≥digo</label>
                    <input type="text" id="join-code-input" class="input-field-new" placeholder="Ej: ABC123"
                        maxlength="12" style="text-transform: uppercase;" />
                </div>
                <div class="error-message" id="code-error" style="display: none;"></div>
            </div>
            <div class="modal-footer">
                <button class="button-cancel-new" id="cancel-code-btn">Cancelar</button>
                <button class="button-save-new" id="submit-code-btn">Unirse</button>
            </div>
        </div>
    </div>
    <!-- Fondo Animado -->
    <div class="animated-background">
        <div class="background-flames"></div>
        <div class="background-wolf">
            <img src="/lobofondo.png" alt="Lobo">
        </div>
        <div class="background-villager">
            <img src="/aldeanofondo.png" alt="Aldeano">
        </div>
        
        <div class="background-overlay"></div>
        <div class="background-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>
</body>
<script type="module" src="../components/menuprincipal.ts"></script>
</html>